@model Mixed_Models.AdminCustomModel

@{
    ViewBag.Title = "AdminCreate";
    Layout = "~/Views/Shared/_AdminPannelLayout.cshtml";
}

<head>

    <link href="~/DashBoard/template/assets/css/addPackage.css" rel="stylesheet" />
    <link href="~/my_css/RegistrationForms.css" rel="stylesheet" />
</head>


<div class="col-lg=8 col-md-8 AddPackageToDiv">
    <div class="sb2-2-add-blog sb2-2-1">
        <div class="box-inn-sp">
            <div class="inn-title">

                @if (TempData["Adim_Created"] != null)
                {
                    <div class="alert alert-success alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
                        <i class="fa fa-check-circle"></i>  @TempData["Adim_Created"]

                    </div>
                }
                else if ( TempData["Adim_Not_Created"] != null)
                {

            <div class="alert alert-danger alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
                <i class="fa fa-times-circle"></i> @TempData["Adim_Not_Created"]
            </div>
          
                }
                else
                {
                    <h4> Create New Admin/ Editor </h4>
                }
               




            </div>
            <div class="bor">

                @using (Html.BeginForm("AdminCreate", "Admin", new { area = "Admin" }, FormMethod.Post, new { enctype = "multipart/form-data" }))
                {

                    <div class="row">
                        <div class="input-field col s12">
                            @Html.EditorFor(model => model.Admin.Name, new { htmlAttributes = new { id = "list-title", type = "text", @class = "validate FontSize", placeholder = " Name" } })
                        </div>
                    </div>




                    <div class="row">
                        <div class="input-field col s12">
                            @Html.EditorFor(model => model.Admin.Email, new { htmlAttributes = new { id = "list-title", @class = "materialize-textarea FontSize", placeholder = "Email" } })
                        </div>
                    </div>




                    <div class="row">
                        <div class="input-field col s12">
                            @Html.EditorFor(model => model.Admin.Password, new { htmlAttributes = new { id = "list-title", @class = "materialize-textarea FontSize", placeholder = "Password" } })
                        </div>
                    </div>


                    <div class="row">
                        <div class="input-field col s12">
                            @Html.EditorFor(model => model.Admin.Admin_rank, new { htmlAttributes = new { id = "list-title", @class = "materialize-textarea FontSize", placeholder = "Role", style = "border-bottom:0px;" } })


                        </div>
                        <div class="col-sm-10" style="margin-top: -15px; margin-bottom: 20px;  padding-left: 7px;">

                            <label class="radio-inline">
                                @Html.RadioButtonFor(model => model.Admin.Admin_rank, "A", new { @class = " " })
                                <span style="margin-top: 3px; font-size: 12px;  color: #737d8c;  font-weight: 600; display: block;">
                                    Admin
                                </span>

                            </label>



                            <label class="radio-inline">
                                @Html.RadioButtonFor(model => model.Admin.Admin_rank, "E", new { @class = " " })
                                <span style="margin-top: 3px; font-size: 12px;  color: #737d8c;  font-weight: 600; display: block;">
                                    Editor
                                </span>
                            </label>


                        </div>


                    </div>




                    <div class="row">
                        <div class="input-field col s12">
                            <div class="file-field">
                                <div class="btn">
                                    <span>File</span>
                                    <input type="file" class="upload-button" name="UserImageFiles" accept="image/*">
                                </div>
                                <div class="file-path-wrapper">
                                    <input class="file-path validate FontSize" type="text" placeholder="Upload Admin Image">
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="col-md-6 " id="formImg2">
                        <div class="image-container" style="width:86%;">

                            <img src="~/Images/No_Image_Available.jpg" class="img-responsive upload-img"  />

                            <div class="image-up row ">

                                <i class="fas fa-camera icon-camera"></i>

                                <p class="upload-img-text">Uplaod image here</p>

                            </div>

                            <div class="clossing-smybol close-x">
                                <span aria-hidden="true" style="font-size: 20px;">&times;</span>
                            </div>

                            <div class="alert alert-danger alert-custom"><p>only 3500 , 2900 pixel image is allowed </p></div>
                        </div>
                    </div>



                    <div class="row">
                        <div class="input-field col s12">
                            <i class="waves-effect waves-light btn-large waves-input-wrapper" style=""><input type="submit" class="waves-button-input" value="Submit"></i>
                        </div>
                    </div>

                }



            </div>
        </div>
    </div>


</div>

<script src="~/Scripts/jquery-3.5.1.min.js"></script>



<script type="text/javascript">





    $('.upload-img').click(function () {

        uploadimage();

    });



    $('.image-up').click(function () {

        uploadimage();

    });


    function uploadimage() {

        $('.upload-button').trigger('click');
    }



    $('.upload-button').change(function () {


        if (this.files && this.files[0]) {

            var fileReader = new FileReader();

            //FilerReader webapp ko user k computer say file read krne mai madad deta hai

            fileReader.readAsDataURL(this.files[0]);

            //filerader.onload mtlb jab file load ho jaye

            fileReader.onload = function (x) {

                //new image () image ka constructor hai jis image ka obj initilaize hoga   image = <img src="" width="" heifht="">

                var image = new Image();

                //x(event) .targer.result ka mtlb h x(event) jo target huwa hai is result m wo value ai gi jis ki waja say event tagert huwa

                image.src = x.target.result;

                image.onload = function () {

                    var width = this.width;
                    var height = this.height;



                    //alert("width :" + width + "height :" + height + "type :" + type );

                    if (width <= "3500" && height <= "2933") {

                        $('.upload-img').attr('src', x.target.result);

                        $('.upload-img').css({ 'width': '100%', 'height': '315px' });


                        //X thore disturb ho jata tha after image upload ye line us ki setting k leye hai

                        $(".clossing-smybol").css({ "left": "290px", "bottom": "320px" });




                    }
                    else {

                        $('.alert-custom').css('visibility', 'visible');
                    }

                }





            }
        }


        $('.close-x').click(function () {

            $('.upload-img').attr('src', "/images/No_Image_Available.jpg");


        });

    });

</script>